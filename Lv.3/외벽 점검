from itertools import permutations
def solution(n, weak, dist):
    L = len(weak)
    cand = []
    weak_point = weak + [w+n for w in weak]

    for i, start in enumerate(weak):
        for friends in permutations(dist):
            count = 1
            position = start
            for friend in friends:
                position += friend
                if position < weak_point[i+L-1]:
                    count += 1
                    for w in weak_point[i+1:i+L]:
                        if w > position:
                            position = w
                            break
                else:
                    cand.append(count)
                    break

    return min(cand) if cand else -1
